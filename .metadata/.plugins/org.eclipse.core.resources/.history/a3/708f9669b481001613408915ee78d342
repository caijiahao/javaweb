package meituan.fourth;

public class Main {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
      int[] prices = {10,22,5,75,65,80};
      System.out.println(maxProfit(prices,6));
	}
	public static int maxProfit(int[] prices, int n) {
	        // write code here
		int[] dis = new int[n];
		int[] dis1 = new int[n];
		for(int i=1;i<n;i++){
			dis[i] = prices[i]-prices[i-1];
		}
		for(int i = n-2;i>=0;i--){
			dis1[i] = prices[i]-prices[i+1];
		}
		int[] max = getMax(dis,n);
		int[] min = getMin(dis1,n);
		int result = Integer.MIN_VALUE;
		for(int i=0;i<max.length;i++){
			result = Math.max(result, max[i]-min[i]);
		}
	 	return result;
	}
	public  static int[] getMax(int[] dis,int n){
		int[] dp = new int[n];
		int max = Integer.MIN_VALUE;
		int current = 0;
		for(int i=0;i<dis.length;i++){
			current += dis[i];
			current = Math.max(current, dis[i]);
			max = Math.max(max, current);
			dp[i] = max;
		}
		return dp;
	}
	public static int[] getMin(int[] dis,int n){
		int[] dp = new int[n];
		int min = Integer.MAX_VALUE;
		int current = 0;
		for(int i = dis.length-1;i>=0;i--){
			current+=dis[i];
			current = Math.min(current, dis[i]);
			min = Math.min(current, min);
			dp[i] = min;
		}
		return dp;
	}
}
